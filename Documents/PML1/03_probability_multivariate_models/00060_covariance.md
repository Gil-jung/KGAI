# 공분산 (Covariance)

공분산은 두 확률 변수 간의 상관 관계를 측정하는 통계적 개념입니다. 두 변수가 어떻게 함께 변동하는지를 나타내며, 변수들이 서로 어떤 방향으로 관계를 가지는지 파악하는 데 유용합니다.

## 공분산의 정의

두 확률 변수 $X$와 $Y$의 공분산은 다음과 같이 정의됩니다:

$$
\text{Cov}(X, Y) = E[(X - E[X])(Y - E[Y])]
$$

여기서:
- $E[X]$와 $E[Y]$는 각각 $X$와 $Y$의 기댓값입니다.
- $E[(X - E[X])(Y - E[Y])]$는 두 변수의 편차 곱의 기댓값을 의미합니다.

공분산의 값은 다음과 같이 해석할 수 있습니다:
- **양수**: $X$가 증가할 때 $Y$도 증가하는 경향이 있는 경우.
- **음수**: $X$가 증가할 때 $Y$는 감소하는 경향이 있는 경우.
- **0**: $X$와 $Y$ 사이에 선형적 상관 관계가 없는 경우.

## 공분산의 성질

1. **선형 변환에 대한 불변성**: 상수 값을 더하거나 빼는 선형 변환은 공분산에 영향을 주지 않습니다. 즉, $a$와 $b$가 상수일 때 $\text{Cov}(aX + b, Y) = a \cdot \text{Cov}(X, Y)$가 성립합니다.
  
2. **대칭성**: 공분산은 대칭적입니다. 즉, $\text{Cov}(X, Y) = \text{Cov}(Y, X)$입니다.

3. **공분산 행렬**: 여러 개의 확률 변수 간의 공분산을 나타내는 행렬로, 대칭 행렬이며 각 원소가 해당 변수 쌍의 공분산입니다.

## 공분산과 상관 계수

공분산은 두 변수 간의 관계 방향만을 보여주지만, 그 크기는 변수의 단위에 따라 달라집니다. 이를 극복하기 위해 상관 계수를 사용합니다. 상관 계수는 공분산을 두 변수의 표준 편차로 나눈 값으로, -1에서 1 사이의 값을 가집니다. 상관 계수는 단위에 무관하며, 두 변수 간의 상관 관계의 강도와 방향을 명확히 나타냅니다.

$$
\rho_{X,Y} = \frac{\text{Cov}(X, Y)}{\sigma_X \sigma_Y}
$$

여기서 $\sigma_X$와 $\sigma_Y$는 각각 $X$와 $Y$의 표준 편차입니다.

## 공분산의 응용

공분산은 금융, 데이터 분석, 머신러닝 등 다양한 분야에서 사용됩니다. 특히 포트폴리오 이론에서 자산 간의 공분산을 이용하여 분산 투자 전략을 수립하거나, 머신러닝에서 데이터의 분산 구조를 파악하는 데 활용됩니다.

## 참고 문헌

- Bishop, C. M. (2006). *Pattern Recognition and Machine Learning*. Springer.
- Murphy, K. P. (2022). *Probabilistic Machine Learning: An Introduction*. MIT Press.
- Murphy, K. P. (2023). *Probabilistic Machine Learning: Advanced Topics*. MIT Press.
